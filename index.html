<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>小游戏</title>
		<style type="text/css">
			table {
				width: 80%;
			}
			#explain{
				font-size: 13px;
			}
			img {
				max-width:100%;
			}
			td{
				border: 0;*/
			}
			.icon{
				width: 80px;
			}
			.icon-choice{
				height: 100px;
				background-size: 80px ;
				background-repeat: no-repeat;
				background-position:50%
			}
			#icon-sign{
				text-align: center;
				}
			.oDiv{
				margin-left: 250px ;
				text-align: center;
				margin-top: 30px;
			 }
			.oDiv2{
				float: left;
				margin-left: 425px;
				margin-top: 50px;
				font-size: 30px;
			}
			.restart{
				font-size: 10px;
				}
			#rule{
				float: left;
				margin-top: 200px;
				margin-left: 50px;
				margin-right: 50px;
				position: absolute;
			}
		</style>
	</head>
	<body>
		<div class="oDiv">
			<h1 style="margin-right: 225px;">易经五行能量气功相生相克之谁能笑到最后？</h1>
		<table border="" cellspacing="" cellpadding="0">
			<tr>
				<th style="border: 0;" >你的选择</th>
				<th style="border: 0;" colspan="3"></th>
				<th style="border: 0;" >对手的选择</th>
			</tr>
			<tr>
				<td id="chose1" class="icon-choice" ></td>
				<td><button onclick="startgame('chose2')">出&nbsp招</button><br>
				<button onclick="restart()" class="restart">重新开始</button></td>
				<td style="font-size: 50px;" >vs</td>
				<td></td>
				<td class="icon-choice" id="chose2" ></td>
			</tr>
			<tr>
				<th style="border: 0;" >你的能量</th>
				<th style="border: 0;" colspan="3"></th>
				<th style="border: 0;" >对手的能量</th>
			</tr>
			<tr>
				<td id="player-energy">5</td>
				<td id="explain" colspan="3"></td>
				<td id="com-enenrgy">5</td>
			</tr>
			<tr>
				<td colspan="5" style="text-align: left;padding-left: 5px;">请先选择招式:</td>
			</tr>
			<tr>
				<td ><img src="img/1.png" class="icon" id="jin" onclick="show(1,'chose1')"/></td>
				<td ><img src="img/2.png" class="icon" id="mu" onclick="show(2,'chose1')"/></td>
				<td ><img src="img/3.png" class="icon" id="shui" onclick="show(3,'chose1')"></td>
				<td ><img src="img/4.png" class="icon" id="huo" onclick="show(4,'chose1')"></td>
				<td ><img src="img/5.png" class="icon" id="tu" onclick="show(5,'chose1')"></td>
			</tr>
			<tr>
				<td id="icon-sign">金</td>
				<td id="icon-sign">木</td>
				<td id="icon-sign">水</td>
				<td id="icon-sign">火</td>
				<td id="icon-sign">土</td>
			</tr>
		</table>
		<div id="result" class="oDiv2">
			
		</div>
		</div>
		<div id="rule">
			游戏规则：本游戏蕴含五行相生相克之内在玄机，奇妙无比。双方初始能量为5点，选择出招花费1点能量；属性被克一方能量减1，克制方能量不增不减；属性相生一方能量加1，另一方不增不减。
			（例：水克火，出火的一方能量减1，出水的一方不增不减；火生金，出金的一方能量加1，出火的一方不增不减。）
		</div>
	</body>
	<script type="text/javascript">
		var energy1=5;
		var energy2=5;
		var p;
		var c;
		function show(num,idName){
		    var chose1=document.getElementById(idName);
			p=num;
		    chose1.style.backgroundImage = 'url(img/' + num + '.png)';
			}
			/*玩家选择招式*/
		function startgame(idName){
			var com = parseInt(Math.random()*5+1);
			var chose2=document.getElementById(idName);
			switch (com) {
			            case 1:
			                com = 1;
			                break;
			            case 2:
			                com = 2;
			                break;
			            case 3:
			                com = 3;
			                break;
						case 4:
						    com = 4;
						    break;	
			            default:
							com = 5;
			                break;
						} 
			chose2.style.backgroundImage = 'url(img/' + com + '.png)';
			c=com;
			/*电脑选择招式*/
			energy1 = energy1-1;
			energy2 = energy2-1;
			/*document.getElementById('player-energy').innerText = energy1 ;*/
			if(p==null){
				document.getElementById('explain').innerText = '请先选择招式';
				energy1=5;
				energy2=5;
			}
			else if(p==1&c==2){
				energy2 = energy2-1;
				document.getElementById('explain').innerText = '刚胜柔，故金胜木；因为刀具可砍伐树木';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==2&c==5){
				energy2 = energy2-1;
				document.getElementById('explain').innerText = '专胜散，故木胜土；因为树木可扎根土里';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==5&c==3){
				energy2 = energy2-1;
				document.getElementById('explain').innerText = '实胜虚，故土胜水；因为堤坝可阻止水流';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==3&c==4){
				energy2 = energy2-1;
				document.getElementById('explain').innerText = '众胜寡，故水胜火；因为大水可熄灭火焰';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==4&c==1){
				energy2 = energy2-1;
				document.getElementById('explain').innerText = '精胜坚，故火胜金；因为烈火可熔化金属';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			/*玩家克电脑*/
			else if(p==2&c==1){
				energy1 = energy1-1;
				document.getElementById('explain').innerText = '刚胜柔，故金胜木；因为刀具可砍伐树木'
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==5&c==2){
				energy1 = energy1-1;
				document.getElementById('explain').innerText = '专胜散，故木胜土；因为树木可扎根土里';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==3&c==5){
				energy1 = energy1-1;
				document.getElementById('explain').innerText = '实胜虚，故土胜水；因为堤坝可阻止水流';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==4&c==3){
				energy1 = energy1-1;
				document.getElementById('explain').innerText = '众胜寡，故水胜火；因为大水可熄灭火焰';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==1&c==4){
				energy1 = energy1-1;
				document.getElementById('explain').innerText = '精胜坚，故火胜金；因为烈火可熔化金属';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			/*电脑克玩家*/
			else if(p==1&c==3){
				energy2 = energy2+1;
				document.getElementById('explain').innerText = '金生水：金凝结生水';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==2&c==4){
				energy2 = energy2+1;
				document.getElementById('explain').innerText = '木生火：木干暖生火';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==5&c==1){
				energy2 = energy2+1;
				document.getElementById('explain').innerText = '土生金：土藏矿生金';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==3&c==2){
				energy2 = energy2+1;
				document.getElementById('explain').innerText = '水生木：水润泽生木';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==4&c==5){
				energy2 = energy2+1;
				document.getElementById('explain').innerText = '火生土：火焚木生土';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			/*玩家生电脑*/
			else if(p==3&c==1){
				energy1 = energy1+1;
				document.getElementById('explain').innerText = '金生水：金凝结生水';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==4&c==2){
				energy1 = energy1+1;
				document.getElementById('explain').innerText = '木生火：木干暖生火';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==1&c==5){
				energy1 = energy1+1;
				document.getElementById('explain').innerText = '土生金：土藏矿生金';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==2&c==3){
				energy1 = energy1+1;
				document.getElementById('explain').innerText = '水生木：水润泽生木';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else if(p==5&c==4){
				energy1 = energy1+1;
				document.getElementById('explain').innerText = '火生土：火焚木生土';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			else {
				document.getElementById('explain').innerText = '势均力敌';
				document.getElementById('player-energy').innerText = energy1;
				document.getElementById('com-enenrgy').innerText = energy2 ;
			}
			/*相生相克判断*/
			if(energy2<=0){
				document.getElementById('result').innerText = '你赢了!';
				energy1=5;
				energy2=5;
			}
			else if(energy1<=0){
				document.getElementById('result').innerText = '你输了!';
				energy1=5;
				energy2=5;
			}
			else {
				document.getElementById('result').innerText = '1vs1大战中';
			}
			}
		function restart(){
			location.reload();
		}
	</script>
</html>
